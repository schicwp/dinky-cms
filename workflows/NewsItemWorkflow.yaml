name: NewsItemWorkflow
states:
  - name: Draft
  - name: Published
  - name: Embargoed
  - name: Archived
  - name: InReview


actions:

  - name: SaveDraft
    entryPoint: true
    nextState: Draft
    sourceStates:
     - Draft
     - Published

  - name: SendForReview
    entryPoint: true
    nextState: InReview
    sourceStates:
     - Draft

  - name: Embargo
    entryPoint: true
    nextState: Embargoed
    sourceStates:
     - Draft

  - name: Archive
    nextState: Archived
    sourceStates:
     - Draft
     - Published

  - name: Publish
    entryPoint: true
    nextState: Published
    sourceStates:
     - Draft
     - Published
     - InReview
    allowedGroups:
     - Editor
    hooks:
    - name: AddToSearch
    - name: SetPermissions
      group:
        Editors:
            read: true
            write: false

